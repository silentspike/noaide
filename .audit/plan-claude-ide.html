<!DOCTYPE html>
<html lang="de" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>claude-ide — TOGAF ADM Implementation Plan v2.1</title>
<style>
/* ═══════════════════════════════════════════════════════════════
   CSS CUSTOM PROPERTIES (Catppuccin Mocha inspired + Enterprise Blue)
   ═══════════════════════════════════════════════════════════════ */
:root {
  --bg-primary: #1e1e2e;
  --bg-secondary: #181825;
  --bg-tertiary: #11111b;
  --bg-surface: #1e1e2e;
  --bg-card: #24243a;
  --bg-hover: #313244;
  --text-primary: #cdd6f4;
  --text-secondary: #a6adc8;
  --text-muted: #6c7086;
  --border: #313244;
  --accent: #89b4fa;
  --accent-dim: #45475a;
  --blue: #89b4fa;
  --sapphire: #74c7ec;
  --green: #a6e3a1;
  --red: #f38ba8;
  --yellow: #f9e2af;
  --peach: #fab387;
  --mauve: #cba6f7;
  --lavender: #b4befe;
  --teal: #94e2d5;
  --pink: #f5c2e7;
  --sky: #89dceb;
  --overlay0: #6c7086;
  --surface0: #313244;
  --surface1: #45475a;
  --surface2: #585b70;
  --sidebar-w: 260px;
  --header-h: 56px;
  --radius: 8px;
  --radius-lg: 12px;
  --shadow: 0 2px 8px rgba(0,0,0,0.3);
  --shadow-lg: 0 4px 16px rgba(0,0,0,0.4);
  --transition: 0.2s ease;
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: 'Monaspace Neon', 'JetBrains Mono', 'Fira Code', monospace;
}

[data-theme="light"] {
  --bg-primary: #eff1f5;
  --bg-secondary: #e6e9ef;
  --bg-tertiary: #dce0e8;
  --bg-surface: #eff1f5;
  --bg-card: #ffffff;
  --bg-hover: #ccd0da;
  --text-primary: #4c4f69;
  --text-secondary: #5c5f77;
  --text-muted: #8c8fa1;
  --border: #ccd0da;
  --accent: #1e66f5;
  --accent-dim: #bcc0cc;
  --blue: #1e66f5;
  --green: #40a02b;
  --red: #d20f39;
  --yellow: #df8e1d;
  --peach: #fe640b;
  --mauve: #8839ef;
  --lavender: #7287fd;
  --teal: #179299;
  --pink: #ea76cb;
  --sky: #04a5e5;
  --overlay0: #9ca0b0;
  --surface0: #ccd0da;
  --surface1: #bcc0cc;
  --surface2: #acb0be;
  --shadow: 0 2px 8px rgba(0,0,0,0.08);
  --shadow-lg: 0 4px 16px rgba(0,0,0,0.12);
}

/* ═══════════════════════════════════════════════════════════════
   RESET & BASE
   ═══════════════════════════════════════════════════════════════ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; font-size: 15px; }
body {
  font-family: var(--font-sans);
  background: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.65;
  min-height: 100vh;
}
a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }
code, pre { font-family: var(--font-mono); font-size: 0.88em; }
code { background: var(--bg-hover); padding: 2px 6px; border-radius: 4px; }
pre { background: var(--bg-tertiary); border: 1px solid var(--border); border-radius: var(--radius); padding: 1em; overflow-x: auto; line-height: 1.5; }
pre code { background: none; padding: 0; }

/* ═══════════════════════════════════════════════════════════════
   LAYOUT
   ═══════════════════════════════════════════════════════════════ */
.layout {
  display: grid;
  grid-template-columns: var(--sidebar-w) 1fr;
  grid-template-rows: var(--header-h) 1fr;
  min-height: 100vh;
}
.header {
  grid-column: 1 / -1;
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  padding: 0 1.5rem;
  gap: 1rem;
  position: sticky;
  top: 0;
  z-index: 100;
}
.header h1 { font-size: 1.15rem; font-weight: 700; white-space: nowrap; }
.header-meta { display: flex; gap: 0.75rem; margin-left: auto; align-items: center; flex-wrap: wrap; }
.badge {
  display: inline-flex;
  align-items: center;
  padding: 3px 10px;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.02em;
}
.badge-blue { background: color-mix(in srgb, var(--blue) 20%, transparent); color: var(--blue); }
.badge-green { background: color-mix(in srgb, var(--green) 20%, transparent); color: var(--green); }
.badge-mauve { background: color-mix(in srgb, var(--mauve) 20%, transparent); color: var(--mauve); }
.badge-peach { background: color-mix(in srgb, var(--peach) 20%, transparent); color: var(--peach); }
.badge-yellow { background: color-mix(in srgb, var(--yellow) 20%, transparent); color: var(--yellow); }
.badge-red { background: color-mix(in srgb, var(--red) 20%, transparent); color: var(--red); }

/* Sidebar */
.sidebar {
  background: var(--bg-secondary);
  border-right: 1px solid var(--border);
  padding: 1rem 0;
  overflow-y: auto;
  position: sticky;
  top: var(--header-h);
  height: calc(100vh - var(--header-h));
}
.sidebar-section { padding: 0.5rem 1rem; }
.sidebar-section h3 {
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--text-muted);
  margin-bottom: 0.4rem;
}
.sidebar a {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.35rem 1rem;
  color: var(--text-secondary);
  font-size: 0.85rem;
  border-radius: 0;
  transition: var(--transition);
  border-left: 3px solid transparent;
}
.sidebar a:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
  text-decoration: none;
}
.sidebar a.active {
  color: var(--accent);
  border-left-color: var(--accent);
  background: color-mix(in srgb, var(--accent) 8%, transparent);
}
.nav-icon { font-size: 1rem; width: 20px; text-align: center; }
.gate-badge {
  margin-left: auto;
  font-size: 0.65rem;
  padding: 1px 6px;
  border-radius: 10px;
  background: color-mix(in srgb, var(--green) 20%, transparent);
  color: var(--green);
  font-weight: 600;
}

/* Main content */
.main {
  padding: 2rem 3rem;
  max-width: 1100px;
  overflow-y: auto;
}

/* ═══════════════════════════════════════════════════════════════
   SECTION
   ═══════════════════════════════════════════════════════════════ */
.section {
  margin-bottom: 2rem;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  overflow: hidden;
}
.section-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.8rem 1.2rem;
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border);
  cursor: pointer;
  user-select: none;
}
.section-header:hover { background: var(--bg-hover); }
.section-header h2 {
  font-size: 1rem;
  font-weight: 600;
  flex: 1;
}
.section-icon { font-size: 1.1rem; }
.chevron { transition: transform var(--transition); font-size: 0.8rem; color: var(--text-muted); }
.section.collapsed .chevron { transform: rotate(-90deg); }
.section.collapsed .section-body { display: none; }
.section-body { padding: 1.2rem; }

/* ═══════════════════════════════════════════════════════════════
   TABLES
   ═══════════════════════════════════════════════════════════════ */
table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
  margin: 0.5rem 0;
}
th {
  text-align: left;
  padding: 0.6rem 0.8rem;
  background: var(--bg-secondary);
  color: var(--text-secondary);
  font-weight: 600;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  border-bottom: 2px solid var(--border);
}
td {
  padding: 0.55rem 0.8rem;
  border-bottom: 1px solid var(--border);
  vertical-align: top;
}
tr:nth-child(even) td { background: color-mix(in srgb, var(--bg-secondary) 30%, transparent); }
tr:hover td { background: var(--bg-hover); }

/* ═══════════════════════════════════════════════════════════════
   CHECKLIST
   ═══════════════════════════════════════════════════════════════ */
.checklist { list-style: none; padding: 0; }
.checklist li {
  padding: 0.4rem 0;
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  font-size: 0.88rem;
}
.check-icon { font-size: 1rem; flex-shrink: 0; margin-top: 1px; }
.check-pass { color: var(--green); }
.check-open { color: var(--text-muted); }
.check-gate { font-weight: 700; color: var(--green); margin-top: 0.3rem; }

/* ═══════════════════════════════════════════════════════════════
   SVG DIAGRAMS
   ═══════════════════════════════════════════════════════════════ */
.diagram-container {
  display: flex;
  justify-content: center;
  padding: 1rem 0;
  overflow-x: auto;
}
.adm-svg text { font-family: var(--font-sans); }

/* ═══════════════════════════════════════════════════════════════
   RISK MATRIX
   ═══════════════════════════════════════════════════════════════ */
.risk-matrix {
  display: grid;
  grid-template-columns: auto repeat(3, 1fr);
  gap: 2px;
  margin: 1rem 0;
  font-size: 0.8rem;
}
.risk-cell {
  padding: 0.5rem;
  text-align: center;
  border-radius: 4px;
  font-weight: 600;
}
.risk-label {
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  color: var(--text-secondary);
  font-size: 0.75rem;
}
.risk-critical { background: color-mix(in srgb, var(--red) 30%, transparent); color: var(--red); }
.risk-high { background: color-mix(in srgb, var(--peach) 25%, transparent); color: var(--peach); }
.risk-medium { background: color-mix(in srgb, var(--yellow) 20%, transparent); color: var(--yellow); }
.risk-low { background: color-mix(in srgb, var(--green) 15%, transparent); color: var(--green); }
.risk-info { background: color-mix(in srgb, var(--blue) 10%, transparent); color: var(--blue); }

/* ═══════════════════════════════════════════════════════════════
   KANBAN BOARD
   ═══════════════════════════════════════════════════════════════ */
.kanban-board {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 0.5rem;
  margin: 1rem 0;
  overflow-x: auto;
}
.kanban-col {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  min-width: 140px;
}
.kanban-col-header {
  padding: 0.5rem;
  text-align: center;
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  border-bottom: 1px solid var(--border);
  color: var(--text-secondary);
}
.kanban-col-header .wip { color: var(--text-muted); font-weight: 400; }
.kanban-cards { padding: 0.4rem; min-height: 60px; }
.kanban-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 0.4rem 0.5rem;
  margin-bottom: 0.3rem;
  font-size: 0.72rem;
  border-left: 3px solid var(--accent);
}
.kanban-card.size-s { border-left-color: var(--green); }
.kanban-card.size-m { border-left-color: var(--blue); }
.kanban-card.size-l { border-left-color: var(--peach); }

/* ═══════════════════════════════════════════════════════════════
   TEST PIPELINE
   ═══════════════════════════════════════════════════════════════ */
.pipeline {
  display: flex;
  gap: 0;
  margin: 1rem 0;
  align-items: center;
  flex-wrap: wrap;
}
.pipeline-stage {
  flex: 1;
  min-width: 130px;
  text-align: center;
  padding: 0.6rem 0.4rem;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  position: relative;
  font-size: 0.78rem;
}
.pipeline-stage:first-child { border-radius: var(--radius) 0 0 var(--radius); }
.pipeline-stage:last-child { border-radius: 0 var(--radius) var(--radius) 0; }
.pipeline-stage .stage-name { font-weight: 700; margin-bottom: 2px; }
.pipeline-stage .stage-time { color: var(--text-muted); font-size: 0.7rem; }
.pipeline-arrow {
  width: 0; height: 0;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  border-left: 10px solid var(--accent);
  flex-shrink: 0;
}

/* ═══════════════════════════════════════════════════════════════
   CONFIDENCE BAR
   ═══════════════════════════════════════════════════════════════ */
.confidence-bar {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.confidence-track {
  flex: 1;
  height: 8px;
  background: var(--surface0);
  border-radius: 4px;
  overflow: hidden;
}
.confidence-fill {
  height: 100%;
  border-radius: 4px;
  background: linear-gradient(90deg, var(--green), var(--teal));
  transition: width 0.5s ease;
}
.confidence-label { font-size: 0.85rem; font-weight: 700; color: var(--green); }

/* ═══════════════════════════════════════════════════════════════
   PROGRESS BAR (ADM Phases)
   ═══════════════════════════════════════════════════════════════ */
.progress-container { margin: 1rem 0; }
.progress-bar {
  display: flex;
  gap: 3px;
  height: 28px;
  border-radius: var(--radius);
  overflow: hidden;
}
.progress-segment {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.65rem;
  font-weight: 600;
  color: white;
  transition: var(--transition);
  cursor: default;
}
.progress-segment.done { background: var(--green); opacity: 0.85; }
.progress-segment.active { background: var(--accent); }
.progress-segment.pending { background: var(--surface1); color: var(--text-muted); }

/* ═══════════════════════════════════════════════════════════════
   WP CARDS
   ═══════════════════════════════════════════════════════════════ */
.wp-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 0.8rem; }
.wp-card {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 0.8rem;
}
.wp-card-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.4rem; }
.wp-card-header h4 { font-size: 0.85rem; flex: 1; }
.wp-deps { font-size: 0.72rem; color: var(--text-muted); margin-top: 0.3rem; }

/* ═══════════════════════════════════════════════════════════════
   THEME TOGGLE
   ═══════════════════════════════════════════════════════════════ */
.theme-toggle {
  background: none;
  border: 1px solid var(--border);
  color: var(--text-primary);
  padding: 4px 10px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.85rem;
  transition: var(--transition);
}
.theme-toggle:hover { background: var(--bg-hover); }

/* ═══════════════════════════════════════════════════════════════
   DEPENDENCY GRAPH
   ═══════════════════════════════════════════════════════════════ */
.dep-graph { overflow-x: auto; padding: 1rem 0; }
.dep-graph svg text { font-family: var(--font-sans); font-size: 11px; }

/* ═══════════════════════════════════════════════════════════════
   PRINT
   ═══════════════════════════════════════════════════════════════ */
@media print {
  .sidebar, .header, .theme-toggle { display: none !important; }
  .layout { grid-template-columns: 1fr; grid-template-rows: 1fr; }
  .main { max-width: none; padding: 1rem; }
  .section.collapsed .section-body { display: block !important; }
  .section { break-inside: avoid; }
}

/* ═══════════════════════════════════════════════════════════════
   RESPONSIVE
   ═══════════════════════════════════════════════════════════════ */
@media (max-width: 900px) {
  .layout { grid-template-columns: 1fr; }
  .sidebar { display: none; }
  .main { padding: 1rem; }
}
</style>
</head>
<body>
<div class="layout">

<!-- ═══════════════════════════════════════════════════════════════
     HEADER
     ═══════════════════════════════════════════════════════════════ -->
<header class="header">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" style="flex-shrink:0">
    <rect width="24" height="24" rx="6" fill="var(--accent)"/>
    <path d="M7 8h10M7 12h7M7 16h10" stroke="var(--bg-primary)" stroke-width="2" stroke-linecap="round"/>
  </svg>
  <h1>claude-ide &mdash; TOGAF ADM Plan</h1>
  <div class="header-meta">
    <span class="badge badge-mauve">v2.1</span>
    <span class="badge badge-blue">Level L</span>
    <span class="badge badge-green">scope:full</span>
    <span class="badge badge-peach">Draft</span>
    <div class="confidence-bar" style="min-width:120px">
      <div class="confidence-track"><div class="confidence-fill" style="width:88%"></div></div>
      <span class="confidence-label">88%</span>
    </div>
    <button class="theme-toggle" onclick="toggleTheme()" title="Theme wechseln">&#9681;</button>
  </div>
</header>

<!-- ═══════════════════════════════════════════════════════════════
     SIDEBAR NAVIGATION
     ═══════════════════════════════════════════════════════════════ -->
<nav class="sidebar">
  <div class="sidebar-section">
    <h3>Overview</h3>
    <a href="#adm-overview"><span class="nav-icon">&#9673;</span> ADM Cycle</a>
    <a href="#master-checklist"><span class="nav-icon">&#9745;</span> Master-Checkliste</a>
  </div>
  <div class="sidebar-section">
    <h3>Preliminary</h3>
    <a href="#p1"><span class="nav-icon">&#9881;</span> P.1 Engagement Record</a>
    <a href="#p2"><span class="nav-icon">&#9878;</span> P.2 Principles</a>
    <a href="#p3"><span class="nav-icon">&#9888;</span> P.3 Concerns</a>
    <a href="#p4"><span class="nav-icon">&#9889;</span> P.4 Prerequisites</a>
    <a href="#p5"><span class="nav-icon">&#128218;</span> P.5 Glossar</a>
    <span class="gate-badge" style="margin:0.3rem 1rem">GATE 0 &#10003;</span>
  </div>
  <div class="sidebar-section">
    <h3>Phase A: Vision</h3>
    <a href="#a1"><span class="nav-icon">&#128065;</span> A.1 Vision</a>
    <a href="#a2"><span class="nav-icon">&#127970;</span> A.2 Business Context</a>
    <a href="#a3"><span class="nav-icon">&#128101;</span> A.3 Stakeholder Map</a>
    <a href="#a4"><span class="nav-icon">&#127919;</span> A.4 Scope</a>
    <a href="#a5"><span class="nav-icon">&#128203;</span> A.5 Requirements</a>
    <a href="#a6"><span class="nav-icon">&#129521;</span> A.6 Building Blocks</a>
    <span class="gate-badge" style="margin:0.3rem 1rem">GATE 1 &#10003;</span>
  </div>
  <div class="sidebar-section">
    <h3>Phase B: Business</h3>
    <a href="#b1"><span class="nav-icon">&#128640;</span> B.1 Capabilities</a>
    <a href="#b2"><span class="nav-icon">&#128260;</span> B.2 Process Flow</a>
    <a href="#b3"><span class="nav-icon">&#9989;</span> B.3 Acceptance Criteria</a>
  </div>
  <div class="sidebar-section">
    <h3>Phase C: Info Systems</h3>
    <a href="#c1"><span class="nav-icon">&#128451;</span> C.1 Data Architecture</a>
    <a href="#c2"><span class="nav-icon">&#128736;</span> C.2 Application Arch.</a>
    <a href="#c3"><span class="nav-icon">&#9888;</span> C.3 Error Handling</a>
    <a href="#c4"><span class="nav-icon">&#128274;</span> C.4 Security</a>
  </div>
  <div class="sidebar-section">
    <h3>Phase D: Technology</h3>
    <a href="#d1"><span class="nav-icon">&#128230;</span> D.1 Tech Stack</a>
    <a href="#d2"><span class="nav-icon">&#127760;</span> D.2 Environment</a>
    <a href="#d3"><span class="nav-icon">&#127988;</span> D.3 Feature Flags</a>
    <a href="#d4"><span class="nav-icon">&#128200;</span> D.4 Observability</a>
    <a href="#d5"><span class="nav-icon">&#9881;</span> D.5 Infrastructure</a>
    <span class="gate-badge" style="margin:0.3rem 1rem">GATE 2 &#10003;</span>
  </div>
  <div class="sidebar-section">
    <h3>Phase E: Solutions</h3>
    <a href="#e1"><span class="nav-icon">&#128270;</span> E.1 Gap Analysis</a>
    <a href="#e2"><span class="nav-icon">&#9888;</span> E.2 Risk Assessment</a>
    <a href="#e3"><span class="nav-icon">&#128221;</span> E.3 ADRs</a>
    <a href="#e4"><span class="nav-icon">&#128230;</span> E.4 Work Packages</a>
    <a href="#e5"><span class="nav-icon">&#128279;</span> E.5 Dependency Graph</a>
    <a href="#e6"><span class="nav-icon">&#128736;</span> E.6 Git Strategy</a>
  </div>
  <div class="sidebar-section">
    <h3>Phase F: Migration</h3>
    <a href="#f1"><span class="nav-icon">&#128295;</span> F.1 Test-Strategie</a>
    <a href="#f5"><span class="nav-icon">&#128203;</span> F.5 Kanban Board</a>
    <span class="gate-badge" style="margin:0.3rem 1rem">GATE 3 &#10003;</span>
  </div>
  <div class="sidebar-section">
    <h3>Phase G: Governance</h3>
    <a href="#g1"><span class="nav-icon">&#9878;</span> G.1 Compliance</a>
    <a href="#g2"><span class="nav-icon">&#9989;</span> G.2 Definition of Done</a>
    <a href="#g3"><span class="nav-icon">&#128200;</span> G.3 Metrics</a>
    <span class="gate-badge" style="margin:0.3rem 1rem">GATE 4 &#10003;</span>
  </div>
  <div class="sidebar-section">
    <h3>Phase H + RM</h3>
    <a href="#h1"><span class="nav-icon">&#128221;</span> H.1 Change Log</a>
    <a href="#rm3"><span class="nav-icon">&#128279;</span> RM.3 Traceability</a>
  </div>
</nav>

<!-- ═══════════════════════════════════════════════════════════════
     MAIN CONTENT
     ═══════════════════════════════════════════════════════════════ -->
<main class="main">

<!-- ADM OVERVIEW -->
<div id="adm-overview" class="section">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#9673;</span>
    <h2>TOGAF ADM Cycle &mdash; Phase Overview</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <div class="progress-container">
      <div class="progress-bar">
        <div class="progress-segment done" title="Preliminary">P</div>
        <div class="progress-segment done" title="Phase A: Vision">A</div>
        <div class="progress-segment done" title="Phase B: Business">B</div>
        <div class="progress-segment done" title="Phase C: Info Systems">C</div>
        <div class="progress-segment done" title="Phase D: Technology">D</div>
        <div class="progress-segment done" title="Phase E: Solutions">E</div>
        <div class="progress-segment done" title="Phase F: Migration">F</div>
        <div class="progress-segment done" title="Phase G: Governance">G</div>
        <div class="progress-segment done" title="Phase H: Change Mgmt">H</div>
        <div class="progress-segment done" title="Requirements Mgmt">RM</div>
      </div>
      <div style="text-align:center;margin-top:0.5rem;font-size:0.8rem;color:var(--text-muted)">
        Alle 10 ADM-Phasen abgeschlossen (Plan-Phase) &mdash; Gates 0-4 bestanden
      </div>
    </div>

    <!-- ADM SVG Diagram -->
    <div class="diagram-container">
      <svg width="440" height="460" viewBox="0 0 440 460" class="adm-svg">
        <!-- Requirements Management (center) -->
        <circle cx="220" cy="230" r="55" fill="none" stroke="var(--mauve)" stroke-width="2" stroke-dasharray="4,3"/>
        <text x="220" y="225" text-anchor="middle" fill="var(--mauve)" font-size="11" font-weight="600">Requirements</text>
        <text x="220" y="240" text-anchor="middle" fill="var(--mauve)" font-size="11" font-weight="600">Management</text>

        <!-- Preliminary -->
        <rect x="145" y="10" width="150" height="36" rx="8" fill="var(--green)" opacity="0.85"/>
        <text x="220" y="33" text-anchor="middle" fill="white" font-size="12" font-weight="700">Preliminary (P)</text>

        <!-- Phase A -->
        <rect x="145" y="60" width="150" height="36" rx="8" fill="var(--blue)" opacity="0.85"/>
        <text x="220" y="83" text-anchor="middle" fill="white" font-size="12" font-weight="700">A: Vision</text>

        <!-- Arrow P -> A -->
        <line x1="220" y1="46" x2="220" y2="60" stroke="var(--text-muted)" stroke-width="1.5" marker-end="url(#arrowhead)"/>

        <!-- Phases B, C, D (ring) -->
        <rect x="20" y="160" width="110" height="36" rx="8" fill="var(--teal)" opacity="0.85"/>
        <text x="75" y="183" text-anchor="middle" fill="white" font-size="11" font-weight="700">B: Business</text>

        <rect x="165" y="130" width="110" height="36" rx="8" fill="var(--sapphire)" opacity="0.85"/>
        <text x="220" y="153" text-anchor="middle" fill="white" font-size="11" font-weight="700">C: Info Sys</text>

        <rect x="310" y="160" width="110" height="36" rx="8" fill="var(--lavender)" opacity="0.85"/>
        <text x="365" y="183" text-anchor="middle" fill="white" font-size="11" font-weight="700">D: Technology</text>

        <!-- Phase E -->
        <rect x="145" y="310" width="150" height="36" rx="8" fill="var(--peach)" opacity="0.85"/>
        <text x="220" y="333" text-anchor="middle" fill="white" font-size="12" font-weight="700">E: Solutions</text>

        <!-- Phase F -->
        <rect x="145" y="360" width="150" height="36" rx="8" fill="var(--yellow)" opacity="0.85"/>
        <text x="220" y="383" text-anchor="middle" fill="var(--bg-primary)" font-size="12" font-weight="700">F: Migration</text>

        <!-- Phase G -->
        <rect x="145" y="400" width="150" height="36" rx="8" fill="var(--pink)" opacity="0.85"/>
        <text x="220" y="423" text-anchor="middle" fill="var(--bg-primary)" font-size="12" font-weight="700">G: Governance</text>

        <!-- Phase H -->
        <rect x="145" y="440" width="150" height="18" rx="6" fill="var(--red)" opacity="0.7"/>
        <text x="220" y="453" text-anchor="middle" fill="white" font-size="10" font-weight="600">H: Change Mgmt</text>

        <!-- Gate badges -->
        <text x="380" y="55" fill="var(--green)" font-size="10" font-weight="700">GATE 0 &#10003;</text>
        <text x="380" y="85" fill="var(--green)" font-size="10" font-weight="700">GATE 1 &#10003;</text>
        <text x="380" y="295" fill="var(--green)" font-size="10" font-weight="700">GATE 2 &#10003;</text>
        <text x="380" y="395" fill="var(--green)" font-size="10" font-weight="700">GATE 3 &#10003;</text>
        <text x="380" y="435" fill="var(--green)" font-size="10" font-weight="700">GATE 4 &#10003;</text>

        <defs>
          <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
            <polygon points="0 0, 8 3, 0 6" fill="var(--text-muted)"/>
          </marker>
        </defs>
      </svg>
    </div>
  </div>
</div>

<!-- MASTER CHECKLIST -->
<div id="master-checklist" class="section">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#9745;</span>
    <h2>Master-Checkliste (TOGAF ADM)</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem">
      <div>
        <h4 style="margin-bottom:0.5rem;color:var(--green)">Preliminary Phase</h4>
        <ul class="checklist">
          <li><span class="check-icon check-pass">&#10003;</span> P.1 Engagement Record</li>
          <li><span class="check-icon check-pass">&#10003;</span> P.2 Architecture Principles</li>
          <li><span class="check-icon check-pass">&#10003;</span> P.3 Stakeholder Concerns</li>
          <li><span class="check-icon check-pass">&#10003;</span> P.4 Prerequisites</li>
          <li><span class="check-icon check-pass">&#10003;</span> P.5 Glossar</li>
          <li class="check-gate"><span class="check-icon check-pass">&#10003;</span> GATE 0 bestanden</li>
        </ul>
      </div>
      <div>
        <h4 style="margin-bottom:0.5rem;color:var(--blue)">Phase A: Vision</h4>
        <ul class="checklist">
          <li><span class="check-icon check-pass">&#10003;</span> A.1 Vision Statement</li>
          <li><span class="check-icon check-pass">&#10003;</span> A.2 Business Context</li>
          <li><span class="check-icon check-pass">&#10003;</span> A.3 Stakeholder Map</li>
          <li><span class="check-icon check-pass">&#10003;</span> A.4 Architecture Scope</li>
          <li><span class="check-icon check-pass">&#10003;</span> A.5 Key Requirements</li>
          <li><span class="check-icon check-pass">&#10003;</span> A.6 Building Blocks</li>
          <li class="check-gate"><span class="check-icon check-pass">&#10003;</span> GATE 1 bestanden</li>
        </ul>
      </div>
      <div>
        <h4 style="margin-bottom:0.5rem;color:var(--teal)">Phase B: Business</h4>
        <ul class="checklist">
          <li><span class="check-icon check-pass">&#10003;</span> B.1 Capabilities & Quick Wins</li>
          <li><span class="check-icon check-pass">&#10003;</span> B.2 Process Flow</li>
          <li><span class="check-icon check-pass">&#10003;</span> B.3 Acceptance Criteria</li>
        </ul>
      </div>
      <div>
        <h4 style="margin-bottom:0.5rem;color:var(--sapphire)">Phase C: Info Systems</h4>
        <ul class="checklist">
          <li><span class="check-icon check-pass">&#10003;</span> C.1 Data Architecture</li>
          <li><span class="check-icon check-pass">&#10003;</span> C.2 Application Architecture</li>
          <li><span class="check-icon check-pass">&#10003;</span> C.3 Error Handling</li>
          <li><span class="check-icon check-pass">&#10003;</span> C.4 Security Architecture</li>
        </ul>
      </div>
      <div>
        <h4 style="margin-bottom:0.5rem;color:var(--lavender)">Phase D: Technology</h4>
        <ul class="checklist">
          <li><span class="check-icon check-pass">&#10003;</span> D.1 Technology Stack</li>
          <li><span class="check-icon check-pass">&#10003;</span> D.2 Environment</li>
          <li><span class="check-icon check-pass">&#10003;</span> D.3 Feature Flags</li>
          <li><span class="check-icon check-pass">&#10003;</span> D.4 Observability</li>
          <li><span class="check-icon check-pass">&#10003;</span> D.5 Infrastructure</li>
          <li class="check-gate"><span class="check-icon check-pass">&#10003;</span> GATE 2 bestanden</li>
        </ul>
      </div>
      <div>
        <h4 style="margin-bottom:0.5rem;color:var(--peach)">Phase E: Solutions</h4>
        <ul class="checklist">
          <li><span class="check-icon check-pass">&#10003;</span> E.1 Gap Analysis</li>
          <li><span class="check-icon check-pass">&#10003;</span> E.2 Risk Assessment</li>
          <li><span class="check-icon check-pass">&#10003;</span> E.3 ADRs (11)</li>
          <li><span class="check-icon check-pass">&#10003;</span> E.4 Work Packages (20)</li>
          <li><span class="check-icon check-pass">&#10003;</span> E.5 Dependency Graph</li>
          <li><span class="check-icon check-pass">&#10003;</span> E.6 Git Strategy</li>
        </ul>
      </div>
      <div>
        <h4 style="margin-bottom:0.5rem;color:var(--yellow)">Phase F: Migration</h4>
        <ul class="checklist">
          <li><span class="check-icon check-pass">&#10003;</span> F.1 Test-Strategie</li>
          <li><span class="check-icon check-pass">&#10003;</span> F.2 Real-World Testing</li>
          <li><span class="check-icon check-pass">&#10003;</span> F.3 Release Plan</li>
          <li><span class="check-icon check-pass">&#10003;</span> F.4 Rollback</li>
          <li><span class="check-icon check-pass">&#10003;</span> F.5 Kanban Board</li>
          <li class="check-gate"><span class="check-icon check-pass">&#10003;</span> GATE 3 bestanden</li>
        </ul>
      </div>
      <div>
        <h4 style="margin-bottom:0.5rem;color:var(--pink)">Phase G + H + RM</h4>
        <ul class="checklist">
          <li><span class="check-icon check-pass">&#10003;</span> G.1-G.5 Governance</li>
          <li class="check-gate"><span class="check-icon check-pass">&#10003;</span> GATE 4 bestanden</li>
          <li><span class="check-icon check-pass">&#10003;</span> H.1-H.5 Change Mgmt</li>
          <li><span class="check-icon check-pass">&#10003;</span> RM.1-RM.3 Requirements</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- P.1 ENGAGEMENT RECORD -->
<div id="p1" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#9881;</span>
    <h2>P.1 Architecture Engagement Record</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th style="width:200px">Feld</th><th>Wert</th></tr>
      <tr><td><strong>Plan</strong></td><td>claude-ide &mdash; Browser-basierte Real-time IDE fuer Claude Code</td></tr>
      <tr><td><strong>TOGAF Tailoring</strong></td><td><span class="badge badge-blue">Level L (Architecture)</span></td></tr>
      <tr><td><strong>Scope</strong></td><td><span class="badge badge-green">scope:full</span></td></tr>
      <tr><td><strong>ADM-Iteration</strong></td><td>1</td></tr>
      <tr><td><strong>Status</strong></td><td><span class="badge badge-peach">Draft</span></td></tr>
      <tr><td><strong>Version</strong></td><td>v2.1 | 2026-02-20 | v2.0 TOGAF Migration + v2.1 Peer-Review Fixes (Codex GPT-5.3 + Gemini)</td></tr>
      <tr><td><strong>Confidence</strong></td><td>
        <div class="confidence-bar">
          <div class="confidence-track"><div class="confidence-fill" style="width:88%"></div></div>
          <span class="confidence-label">88%</span>
        </div>
        <div style="font-size:0.8rem;color:var(--text-muted);margin-top:4px">Architektur vollstaendig, Peer-Review v1.1+v2.0 eingearbeitet, Traceability lueckenlos (16 ACs, 14 REQs), Restrisiko: eBPF+Zenoh+Limbo</div>
      </td></tr>
      <tr><td><strong>Kanban WIP-Limit</strong></td><td>3 (L-Size)</td></tr>
      <tr><td><strong>GitHub Repo</strong></td><td>Kein Remote (spaeter entscheiden)</td></tr>
    </table>
  </div>
</div>

<!-- P.2 PRINCIPLES -->
<div id="p2" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#9878;</span>
    <h2>P.2 Architecture Principles</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th>Prinzip</th><th>Rationale</th><th>Implikation</th></tr>
      <tr><td><strong>Full Transparency</strong></td><td>User verdienen volle Einsicht in JSONL</td><td>ALLES anzeigen. Security-Ausnahme: API Keys redacted.</td></tr>
      <tr><td><strong>120Hz Minimum</strong></td><td>Moderne Displays = 120Hz</td><td>SolidJS, Virtual Scroller, ECS, WASM Workers, FlatBuffers</td></tr>
      <tr><td><strong>System Engineering for Web</strong></td><td>&lt;50ms Latenz bei 200 events/sec</td><td>eBPF, Zenoh+SHM, WebTransport/QUIC, io_uring</td></tr>
      <tr><td><strong>Production-First</strong></td><td>Keine Mocks, echte Implementierung</td><td>scope:full auf jedem WP</td></tr>
      <tr><td><strong>SSOT</strong></td><td>JSONL = Source of Truth</td><td>Limbo DB ist Index/Cache, nicht Authority</td></tr>
      <tr><td><strong>Bidirektional</strong></td><td>IDE steuert Claude Code aktiv</td><td>PTY stdin + tmux send-keys + API Proxy</td></tr>
      <tr><td><strong>Mobile-First QUIC</strong></td><td>Connection Migration WiFi&#8596;Cellular</td><td>WebTransport-only, Adaptive Quality</td></tr>
    </table>
  </div>
</div>

<!-- P.3 STAKEHOLDER CONCERNS -->
<div id="p3" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#9888;</span>
    <h2>P.3 Stakeholder Concerns &mdash; 12/12 geklaert</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <ul class="checklist">
      <li><span class="check-icon check-pass">&#10003;</span> SC-1: Vollwertige IDE (bidirektionaler Sync)</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-2: Rust Backend (Tokio + io_uring)</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-3: SolidJS Frontend</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-4: HTTP/3 WebTransport only</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-5: PTY stdin (managed) + tmux send-keys (observed)</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-6: Zenoh + SHM Event Bus</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-7: Limbo Database</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-8: eBPF File Watching</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-9: FlatBuffers + MessagePack + Zstd</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-10: ECS (hecs)</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-11: FUSE &rarr; NEIN</li>
      <li><span class="check-icon check-pass">&#10003;</span> SC-12: xgrammar &rarr; Spaeter</li>
    </ul>
  </div>
</div>

<!-- P.4 + P.5 -->
<div id="p4" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#9889;</span>
    <h2>P.4 Prerequisites</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <ul class="checklist">
      <li><span class="check-icon check-pass">&#10003;</span> Rust toolchain (rustup, cargo, wasm-pack)</li>
      <li><span class="check-icon check-open">&#9675;</span> eBPF Kernel Support (CONFIG_BPF=y)</li>
      <li><span class="check-icon check-open">&#9675;</span> Limbo crate Stabilitaet pruefen</li>
      <li><span class="check-icon check-open">&#9675;</span> quinn WebTransport Browser-Kompatibilitaet</li>
      <li><span class="check-icon check-open">&#9675;</span> Zenoh SHM Feature-Flag</li>
      <li><span class="check-icon check-pass">&#10003;</span> Node.js / npm</li>
      <li><span class="check-icon check-pass">&#10003;</span> Git konfiguriert</li>
      <li><span class="check-icon check-open">&#9675;</span> FlatBuffers Compiler (flatc)</li>
      <li><span class="check-icon check-pass">&#10003;</span> RTX 3050 Ti + CUDA 12.8</li>
      <li><span class="check-icon check-open">&#9675;</span> mkcert + lokale CA</li>
      <li><span class="check-icon check-open">&#9675;</span> eBPF Kernel-Capabilities (CAP_BPF + CAP_PERFMON oder CAP_SYS_ADMIN)</li>
      <li><span class="check-icon check-open">&#9675;</span> COOP/COEP Browser-Kompatibilitaet</li>
      <li><span class="check-icon check-open">&#9675;</span> Monaspace Neon + Inter WOFF2</li>
    </ul>
  </div>
</div>

<div id="p5" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128218;</span>
    <h2>P.5 Glossar (18 Begriffe)</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th>Begriff</th><th>Definition</th><th>TOGAF</th></tr>
      <tr><td>JSONL</td><td>JSON Lines &mdash; Claude Code Conversation-Format</td><td>Data Entity</td></tr>
      <tr><td>PTY</td><td>Pseudo-Terminal fuer Session-Management</td><td>SBB</td></tr>
      <tr><td>ECS</td><td>Entity Component System (Struct-of-Arrays)</td><td>ABB: State Engine</td></tr>
      <tr><td>SHM</td><td>Shared Memory (~1us IPC)</td><td>SBB: Zenoh SHM</td></tr>
      <tr><td>eBPF</td><td>Kernel-Level File Monitoring</td><td>SBB: File Watcher</td></tr>
      <tr><td>FlatBuffers</td><td>Zero-Copy Serialisierung (hot path)</td><td>SBB: Wire Codec</td></tr>
      <tr><td>MessagePack</td><td>Binaeres JSON (cold path)</td><td>SBB: Wire Codec</td></tr>
      <tr><td>Limbo</td><td>SQLite-kompatible Rust DB (io_uring)</td><td>SBB: Database</td></tr>
      <tr><td>Zenoh</td><td>Rust Pub/Sub mit SHM (Eclipse)</td><td>SBB: Event Bus</td></tr>
      <tr><td>WebTransport</td><td>HTTP/3 bidirektional ueber QUIC</td><td>SBB: Transport</td></tr>
      <tr><td>Breathing Orb</td><td>5-State AI-Aktivitaetsindikator</td><td>UI Component</td></tr>
      <tr><td>Ghost Message</td><td>Komprimierte Message (30% Opacity)</td><td>UI Component</td></tr>
      <tr><td>Adaptive Quality</td><td>RTT-basierte Tiers (120/30/10 Hz)</td><td>ABB: Quality Adapter</td></tr>
      <tr><td>EventEnvelope</td><td>Wrapper mit Lamport Clock + Dedup</td><td>Data Entity</td></tr>
    </table>
  </div>
</div>

<!-- A.1 VISION -->
<div id="a1" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128065;</span>
    <h2>A.1 Vision Statement</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <p><strong>claude-ide</strong> ist eine Browser-basierte IDE die Claude Code Sessions in Echtzeit visualisiert und steuert. Der Rust-Backend-Server watched JSONL-Files via eBPF, managed Sessions ueber PTY/tmux, proxied API-Calls, und streamt alles ueber HTTP/3 WebTransport an ein SolidJS-Frontend.</p>
    <p style="margin-top:0.5rem"><strong>Kern-Differenzierung:</strong> ALLES aus dem JSONL wird angezeigt (inkl. versteckter System-Messages, Reasoning-Blocks), API-Proxy mit Network-Tab, Multi-Agent Topology-Graph, interaktives Gantt, Catppuccin-Mocha Design mit Spring-Physics.</p>
    <p style="margin-top:0.5rem;color:var(--green)"><strong>Die ultimative Developer-Experience fuer Claude Code &mdash; volle Transparenz, volle Kontrolle, Desktop bis Mobile.</strong></p>
  </div>
</div>

<!-- A.4 SCOPE -->
<div id="a2" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#127970;</span>
    <h2>A.2 Business Context</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <p>Claude Code laeuft im Terminal und zeigt nur ~60% des JSONL-Inhalts. Eine Browser-IDE bietet: <strong>Volle Transparenz</strong>, besseres Tooling, Multi-Agent-Uebersicht, Bilder, API-Transparenz, Mobile-Zugriff.</p>
    <p style="margin-top:0.5rem"><strong>Tech-Philosophie:</strong> Enterprise SOTA 2026. Polyglot wo sinnvoll. Minimaler Footprint. Low IOPs. 120Hz minimum.</p>
  </div>
</div>

<div id="a3" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128101;</span>
    <h2>A.3 Stakeholder Map + RACI</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th>Stakeholder</th><th>Rolle</th><th>Concern</th><th>Einfluss</th></tr>
      <tr><td>Jan (User/Dev)</td><td>Primaer-Nutzer</td><td>Transparenz, Performance, Mobile</td><td><span class="badge badge-red">High</span></td></tr>
      <tr><td>Claude Code</td><td>AI Agent</td><td>Session-Stabilitaet</td><td><span class="badge badge-red">High</span></td></tr>
      <tr><td>Anthropic API</td><td>Externer Service</td><td>Rate Limits</td><td><span class="badge badge-yellow">Med</span></td></tr>
      <tr><td>Browser</td><td>Runtime</td><td>WebTransport, SharedArrayBuffer</td><td><span class="badge badge-yellow">Med</span></td></tr>
      <tr><td>Linux Kernel</td><td>System</td><td>eBPF, io_uring</td><td><span class="badge badge-yellow">Med</span></td></tr>
    </table>
  </div>
</div>

<div id="a4" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#127919;</span>
    <h2>A.4 Architecture Scope</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <h4 style="color:var(--green);margin-bottom:0.5rem">In Scope (Phase 1) &mdash; 14 Komponenten</h4>
    <div style="columns:2;column-gap:1.5rem;font-size:0.85rem">
      <p>Rust Backend (Tokio+io_uring, axum, quinn) &bull; SolidJS Frontend (Vite 6, CodeMirror 6) &bull; JSONL Parser (Streaming, WASM) &bull; Session Management (PTY, tmux) &bull; eBPF File Watcher &bull; Zenoh Event Bus (SHM) &bull; ECS State Engine (hecs) &bull; Limbo Database (FTS5) &bull; API Proxy &bull; WebTransport (FlatBuf+MsgPack+Zstd) &bull; 7 Center Tabs &bull; Multi-Agent Topology &bull; Gantt+Kanban &bull; Mobile Layout</p>
    </div>
    <h4 style="color:var(--red);margin:0.8rem 0 0.5rem">Out of Scope (Phase 2+)</h4>
    <div style="font-size:0.85rem;color:var(--text-secondary)">Conversation Branching, Export, WASM Plugin System, Multi-LLM, xgrammar, Agent Leaderboard, TTS, Internet Deployment, Camera Capture</div>
    <h4 style="margin:0.8rem 0 0.3rem">Constraints</h4>
    <ul style="font-size:0.85rem;padding-left:1.2rem">
      <li>Single-User lokale IDE</li>
      <li>openSUSE Tumbleweed (Kernel 6.17+)</li>
      <li>Server &lt; 200MB RSS</li>
      <li><strong>Browser:</strong> Chrome 114+ und Firefox 114+ (Safari unsupported Phase 1)</li>
    </ul>
  </div>
</div>

<!-- A.5 REQUIREMENTS -->
<div id="a5" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128203;</span>
    <h2>A.5 Key Requirements (14)</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th>ID</th><th>Requirement</th><th>Typ</th><th>Prio</th></tr>
      <tr><td>REQ-1</td><td>ALLE JSONL-Inhalte anzeigen</td><td>Func</td><td><span class="badge badge-red">Must</span></td></tr>
      <tr><td>REQ-2</td><td>File-Event Latenz &lt; 50ms p99</td><td>Non-Func</td><td><span class="badge badge-red">Must</span></td></tr>
      <tr><td>REQ-3</td><td>120Hz bei 1000+ Messages</td><td>Non-Func</td><td><span class="badge badge-red">Must</span></td></tr>
      <tr><td>REQ-4</td><td>Bidirektionale Session-Steuerung</td><td>Func</td><td><span class="badge badge-red">Must</span></td></tr>
      <tr><td>REQ-5</td><td>API Proxy mit Request/Response Logging</td><td>Func</td><td><span class="badge badge-red">Must</span></td></tr>
      <tr><td>REQ-6</td><td>Multi-Agent Topology Graph</td><td>Func</td><td><span class="badge badge-red">Must</span></td></tr>
      <tr><td>REQ-7</td><td>Interactive Gantt Time-Tracking</td><td>Func</td><td><span class="badge badge-yellow">Should</span></td></tr>
      <tr><td>REQ-8</td><td>Mobile Layout</td><td>Func</td><td><span class="badge badge-yellow">Should</span></td></tr>
      <tr><td>REQ-9</td><td>Server &lt;200MB, Browser &lt;500MB</td><td>Non-Func</td><td><span class="badge badge-red">Must</span></td></tr>
      <tr><td>REQ-10</td><td>Adaptive Quality (RTT)</td><td>Func</td><td><span class="badge badge-red">Must</span></td></tr>
      <tr><td>REQ-11</td><td>eBPF PID-Tracing</td><td>Func</td><td><span class="badge badge-red">Must</span></td></tr>
      <tr><td>REQ-12</td><td>Conflict Resolution OT</td><td>Func</td><td><span class="badge badge-yellow">Should</span></td></tr>
      <tr><td>REQ-13</td><td>Event-Ordering Lamport Clock</td><td>Non-Func</td><td><span class="badge badge-red">Must</span></td></tr>
      <tr><td>REQ-14</td><td>Backpressure bounded channels</td><td>Non-Func</td><td><span class="badge badge-red">Must</span></td></tr>
    </table>
  </div>
</div>

<!-- A.6 BUILDING BLOCKS -->
<div id="a6" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#129521;</span>
    <h2>A.6 Building Blocks &mdash; 14 ABBs / 14 SBBs</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <h4 style="margin-bottom:0.5rem">Architecture Building Blocks (ABBs)</h4>
    <table>
      <tr><th>ABB</th><th>Capability</th></tr>
      <tr><td>Session Manager</td><td>Session Lifecycle</td></tr>
      <tr><td>JSONL Engine</td><td>Data Ingestion</td></tr>
      <tr><td>File Watcher</td><td>Real-time Sync</td></tr>
      <tr><td>Event Bus</td><td>Event Distribution</td></tr>
      <tr><td>State Engine</td><td>State Management</td></tr>
      <tr><td>Database</td><td>Data Persistence</td></tr>
      <tr><td>Transport</td><td>Client Communication</td></tr>
      <tr><td>Wire Codec</td><td>Data Encoding</td></tr>
      <tr><td>API Proxy</td><td>API Transparency</td></tr>
      <tr><td>Quality Adapter</td><td>Adaptive Performance</td></tr>
      <tr><td>UI Shell</td><td>User Interface</td></tr>
      <tr><td>Chat Renderer</td><td>Conversation Display</td></tr>
      <tr><td>Code Editor</td><td>Code Editing</td></tr>
      <tr><td>Team Visualizer</td><td>Multi-Agent UI</td></tr>
    </table>
    <h4 style="margin:1rem 0 0.5rem">Solution Building Blocks (SBBs)</h4>
    <table>
      <tr><th>SBB</th><th>Implementiert</th><th>Technologie</th></tr>
      <tr><td>PTY Manager</td><td>Session Manager</td><td>portable-pty + tmux</td></tr>
      <tr><td>Streaming JSONL Parser</td><td>JSONL Engine</td><td>serde_json + WASM</td></tr>
      <tr><td>eBPF/fanotify Watcher</td><td>File Watcher</td><td>aya eBPF</td></tr>
      <tr><td>Zenoh + SHM</td><td>Event Bus</td><td>zenoh crate</td></tr>
      <tr><td>hecs ECS World</td><td>State Engine</td><td>hecs 0.10</td></tr>
      <tr><td>Limbo</td><td>Database</td><td>limbo-core</td></tr>
      <tr><td>quinn WebTransport</td><td>Transport</td><td>quinn 0.11</td></tr>
      <tr><td>FlatBuf+MsgPack+Zstd</td><td>Wire Codec</td><td>flatbuffers+rmp-serde+zstd</td></tr>
      <tr><td>axum Reverse Proxy</td><td>API Proxy</td><td>axum 0.8</td></tr>
      <tr><td>RTT-based Tiers</td><td>Quality Adapter</td><td>Custom Rust</td></tr>
      <tr><td>SolidJS + Vite 6</td><td>UI Shell</td><td>solid-js</td></tr>
      <tr><td>Virtual Scroller + WASM</td><td>Chat Renderer</td><td>TS + Rust WASM</td></tr>
      <tr><td>CodeMirror 6</td><td>Code Editor</td><td>@codemirror/*</td></tr>
      <tr><td>Force-directed Graph</td><td>Team Visualizer</td><td>Custom SVG/Canvas</td></tr>
    </table>
  </div>
</div>

<!-- B.3 ACCEPTANCE CRITERIA -->
<div id="b1" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)"><span class="section-icon">&#128640;</span><h2>B.1 Capabilities + B.2 Process Flow</h2><span class="chevron">&#9660;</span></div>
  <div class="section-body">
    <p>10 Capabilities (6 Must, 4 Should). Hauptprozess: eBPF &rarr; JSONL Parser &rarr; ECS &rarr; Zenoh &rarr; WebTransport &rarr; SolidJS (120Hz).</p>
    <pre style="font-size:0.75rem">Claude Code &rarr; JSONL &rarr; eBPF Watcher &rarr; Parser &rarr; ECS World &rarr; Zenoh SHM &rarr; WebTransport &rarr; Browser 120Hz</pre>
  </div>
</div>

<div id="b3" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#9989;</span>
    <h2>B.3 Acceptance Criteria &mdash; 16 positive + 4 negative</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <h4 style="color:var(--green);margin-bottom:0.5rem">Positive Criteria</h4>
    <table>
      <tr><th>AC</th><th>Kriterium</th><th>Gate</th></tr>
      <tr><td>AC-1</td><td>ALLE JSONL Messages sichtbar (inkl. hidden, thinking)</td><td><span class="badge badge-blue">PR</span></td></tr>
      <tr><td>AC-2</td><td>File-Event &lt; 50ms p99</td><td><span class="badge badge-green">Main</span></td></tr>
      <tr><td>AC-3</td><td>120Hz bei 1000+ Messages</td><td><span class="badge badge-green">Main</span></td></tr>
      <tr><td>AC-4</td><td>PTY Input &rarr; Response &lt; 500ms</td><td><span class="badge badge-blue">PR</span></td></tr>
      <tr><td>AC-5</td><td>API Proxy Bodies im Network Tab</td><td><span class="badge badge-blue">PR</span></td></tr>
      <tr><td>AC-6</td><td>3+ Agents mit animierten Bubbles</td><td><span class="badge badge-green">Main</span></td></tr>
      <tr><td>AC-7</td><td>Mobile Layout Bottom Tab Bar + Swipe</td><td><span class="badge badge-peach">Nightly</span></td></tr>
      <tr><td>AC-8</td><td>Ghost Messages 30% Opacity</td><td><span class="badge badge-blue">PR</span></td></tr>
      <tr><td>AC-9</td><td>Breathing Orb &lt; 50ms PTY-Reaktion</td><td><span class="badge badge-blue">PR</span></td></tr>
      <tr><td>AC-10</td><td>Server &lt; 200MB nach 1h, 5 Sessions</td><td><span class="badge badge-peach">Nightly</span></td></tr>
      <tr><td>AC-11</td><td>Gantt Time-Tracking pro Agent</td><td><span class="badge badge-green">Main</span></td></tr>
      <tr><td>AC-12</td><td>Adaptive Quality Tier-Wechsel</td><td><span class="badge badge-blue">PR</span></td></tr>
      <tr><td>AC-13</td><td>eBPF PID-Attribution korrekt</td><td><span class="badge badge-blue">PR</span></td></tr>
      <tr><td>AC-14</td><td>OT-Buffer + 3-Wege-Merge</td><td><span class="badge badge-green">Main</span></td></tr>
      <tr><td>AC-15</td><td>Lamport Clock monoton + Dedup</td><td><span class="badge badge-blue">PR</span></td></tr>
      <tr><td>AC-16</td><td>Backpressure oldest-first drop</td><td><span class="badge badge-blue">PR</span></td></tr>
    </table>
    <h4 style="color:var(--red);margin:1rem 0 0.5rem">Negative Criteria</h4>
    <table>
      <tr><th>AC</th><th>Darf NICHT eintreten</th></tr>
      <tr><td>AC-N1</td><td>Kein JSONL-Inhalt versteckt</td></tr>
      <tr><td>AC-N2</td><td>Kein Mock/Stub im Production-Pfad</td></tr>
      <tr><td>AC-N3</td><td>Kein Memory Leak (RSS nicht monoton steigend)</td></tr>
      <tr><td>AC-N4</td><td>Keine Secrets in Logs/UI</td></tr>
    </table>
  </div>
</div>

<!-- C.3 ERROR HANDLING -->
<div id="c1" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)"><span class="section-icon">&#128451;</span><h2>C.1 Data Architecture</h2><span class="chevron">&#9660;</span></div>
  <div class="section-body">
    <p>8 Entitaeten: Session, Message, ContentBlock, File, Task, Agent, ApiRequest, EventEnvelope. Limbo SQL Schema mit FTS5. JSONL = SSOT, Limbo = wegwerf-Cache.</p>
  </div>
</div>

<div id="c2" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)"><span class="section-icon">&#128736;</span><h2>C.2 Application Architecture</h2><span class="chevron">&#9660;</span></div>
  <div class="section-body">
    <p>15 Komponenten-Module (server/src/*, wasm/*, frontend/src/*). EventEnvelope mit Lamport Clock. Backpressure per Event-Klasse (6 Klassen).</p>
  </div>
</div>

<div id="c3" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#9888;</span>
    <h2>C.3 Error Handling Strategy</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th>Kategorie</th><th>Beispiele</th><th>Strategie</th></tr>
      <tr><td style="color:var(--red);font-weight:700">Fatal</td><td>Limbo DB corrupt, Port belegt</td><td>Graceful Shutdown, auto-restart via systemd</td></tr>
      <tr><td style="color:var(--peach);font-weight:700">Transient</td><td>JSONL locked, WebTransport disconnect</td><td>Retry exp. backoff (max 5, 100ms&rarr;3.2s)</td></tr>
      <tr><td style="color:var(--yellow);font-weight:700">Recoverable</td><td>JSONL parse error, eBPF attach fail</td><td>Skip + Warning, auto Fallback (inotify)</td></tr>
      <tr><td style="color:var(--green);font-weight:700">Expected</td><td>Session beendet, empty JSONL</td><td>Normaler Control Flow</td></tr>
    </table>
  </div>
</div>

<div id="c4" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)"><span class="section-icon">&#128274;</span><h2>C.4 Security Architecture</h2><span class="chevron">&#9660;</span></div>
  <div class="section-body">
    <p>JWT Auth, Input Validation, XSS (SolidJS+CSP), SSRF Whitelist, CORS strict, COOP/COEP, mkcert TLS, API Key Regex Redaction, gitleaks pre-commit.</p>
  </div>
</div>

<!-- D.1 TECH STACK -->
<div id="d1" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128230;</span>
    <h2>D.1 Technology Stack</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <h4 style="margin-bottom:0.3rem">Rust Server (14 crates)</h4>
    <div style="display:flex;flex-wrap:wrap;gap:0.3rem;margin-bottom:0.8rem">
      <span class="badge badge-blue">tokio 1.x</span>
      <span class="badge badge-blue">axum 0.8</span>
      <span class="badge badge-blue">quinn 0.11</span>
      <span class="badge badge-mauve">hecs 0.10</span>
      <span class="badge badge-green">zenoh 1.x</span>
      <span class="badge badge-peach">limbo-core</span>
      <span class="badge badge-yellow">serde_json 1.x</span>
      <span class="badge badge-yellow">rmp-serde 1.x</span>
      <span class="badge badge-yellow">flatbuffers 24.x</span>
      <span class="badge badge-blue">tracing 0.1</span>
      <span class="badge badge-mauve">portable-pty</span>
      <span class="badge badge-blue">git2</span>
      <span class="badge badge-yellow">zstd</span>
      <span class="badge badge-red">aya (eBPF)</span>
    </div>
    <h4 style="margin-bottom:0.3rem">WASM (4 crates)</h4>
    <div style="display:flex;flex-wrap:wrap;gap:0.3rem;margin-bottom:0.8rem">
      <span class="badge badge-blue">wasm-bindgen</span>
      <span class="badge badge-yellow">serde_json</span>
      <span class="badge badge-green">pulldown-cmark</span>
      <span class="badge badge-yellow">zstd (wasm)</span>
    </div>
    <h4 style="margin-bottom:0.3rem">Frontend (9 packages)</h4>
    <div style="display:flex;flex-wrap:wrap;gap:0.3rem">
      <span class="badge badge-blue">solid-js</span>
      <span class="badge badge-blue">@solidjs/router</span>
      <span class="badge badge-green">vite 6.x</span>
      <span class="badge badge-mauve">@codemirror/*</span>
      <span class="badge badge-peach">@phosphor-icons/web</span>
      <span class="badge badge-yellow">flatbuffers</span>
      <span class="badge badge-yellow">@msgpack/msgpack</span>
    </div>
  </div>
</div>

<div id="d2" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)"><span class="section-icon">&#127760;</span><h2>D.2 Environment + D.3 Feature Flags</h2><span class="chevron">&#9660;</span></div>
  <div class="section-body">
    <p>9 Environment-Variablen. 6 Feature Flags (ENABLE_EBPF, ENABLE_SHM, ENABLE_WASM_PARSER, ENABLE_API_PROXY, ENABLE_PROFILER, ENABLE_AUDIO). Deployments: Local/Dev, LAN (Mobile), Internet (Phase 2).</p>
  </div>
</div>

<div id="d3" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)"><span class="section-icon">&#128200;</span><h2>D.4 Observability</h2><span class="chevron">&#9660;</span></div>
  <div class="section-body">
    <p><strong>Logging:</strong> Structured JSON (tracing crate). <strong>Metriken:</strong> Custom (Limbo DB + Dashboard). <strong>Health:</strong> GET /health + WebTransport keepalive. <strong>Tracing:</strong> Span-basiert mit Session-ID.</p>
  </div>
</div>

<div id="d4" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)"><span class="section-icon">&#9881;</span><h2>D.5 Infrastructure</h2><span class="chevron">&#9660;</span></div>
  <div class="section-body">
    <table>
      <tr><th>Komponente</th><th>Spec</th><th>Kosten</th></tr>
      <tr><td>Dev Laptop</td><td>Ryzen 9 5900HS, 16GB, RTX 3050 Ti</td><td>Vorhanden</td></tr>
      <tr><td>Build Server</td><td>LXC CT 155, 8 Cores, 12GB, mold</td><td>Vorhanden</td></tr>
      <tr><td>Limbo DB</td><td>/data/claude-ide/ide.db (ext4)</td><td>0</td></tr>
      <tr><td>TLS</td><td>mkcert lokale CA</td><td>0</td></tr>
    </table>
  </div>
</div>

<!-- E.1 GAP ANALYSIS -->
<div id="e1" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128270;</span>
    <h2>E.1 Gap Analysis (7 Gaps)</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th>Bereich</th><th>Ist</th><th>Soll</th><th>Aktion</th></tr>
      <tr><td>JSONL Visibility</td><td>~60% sichtbar</td><td>100%</td><td>Full Parser + Ghost Messages</td></tr>
      <tr><td>File Sync</td><td>Kein Live-Update</td><td>&lt;50ms</td><td>eBPF &rarr; Zenoh &rarr; WebTransport</td></tr>
      <tr><td>API Transparency</td><td>Kein Einblick</td><td>Full Log</td><td>API Proxy + Network Tab</td></tr>
      <tr><td>Multi-Agent</td><td>Keine Visualisierung</td><td>Topology Graph</td><td>Teams Module</td></tr>
      <tr><td>Code Editing</td><td>Terminal-only</td><td>CodeMirror 6</td><td>OT Buffer + 3-Wege-Merge</td></tr>
      <tr><td>Mobile Access</td><td>Nicht moeglich</td><td>Full Layout</td><td>Responsive + QUIC Migration</td></tr>
      <tr><td>Session Control</td><td>Nur Terminal</td><td>Bidirektional</td><td>PTY + tmux</td></tr>
    </table>
  </div>
</div>

<!-- E.2 RISK MATRIX -->
<div id="e2" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#9888;</span>
    <h2>E.2 Risk Assessment &mdash; 13 Risiken</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <h4 style="margin-bottom:0.5rem">Risiko-Matrix Heatmap</h4>
    <div class="risk-matrix">
      <div class="risk-label"></div>
      <div class="risk-label">Low Impact</div>
      <div class="risk-label">Med Impact</div>
      <div class="risk-label">High Impact</div>

      <div class="risk-label">High Prob.</div>
      <div class="risk-medium">R-6 JSONL&gt;100MB</div>
      <div class="risk-high">R-8 Scope Creep<br>R-9 Cert Reject<br>R-13 COOP/COEP</div>
      <div class="risk-critical">&mdash;</div>

      <div class="risk-label">Med Prob.</div>
      <div class="risk-low">R-2 eBPF<br>R-4 Zenoh SHM</div>
      <div class="risk-medium">R-7 PTY<br>R-10 Race Cond.<br>R-11 Backpress.</div>
      <div class="risk-high">R-1 Limbo<br>R-5 120Hz</div>

      <div class="risk-label">Low Prob.</div>
      <div class="risk-info">R-3 Safari</div>
      <div class="risk-low">R-12 Conflict</div>
      <div class="risk-medium">&mdash;</div>
    </div>

    <table style="margin-top:1rem">
      <tr><th>ID</th><th>Risiko</th><th>Schwere</th><th>Mitigation</th></tr>
      <tr><td>R-1</td><td>Limbo Instabilitaet</td><td><span class="badge badge-red">High</span></td><td>Fallback rusqlite</td></tr>
      <tr><td>R-5</td><td>120Hz Rendering</td><td><span class="badge badge-red">High</span></td><td>SolidJS fine-grained, Virtual Scroller</td></tr>
      <tr><td>R-8</td><td>Scope Creep</td><td><span class="badge badge-red">High</span></td><td>Strikte Phase 1 Scope-Grenze</td></tr>
      <tr><td>R-9</td><td>Self-Signed Cert Rejection</td><td><span class="badge badge-red">High</span></td><td>mkcert CA + Trust Store</td></tr>
      <tr><td>R-13</td><td>COOP/COEP SharedArrayBuffer</td><td><span class="badge badge-yellow">Med</span></td><td>Self-hosted Fonts + Headers</td></tr>
    </table>
  </div>
</div>

<!-- E.3 ADRs -->
<div id="e3" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128221;</span>
    <h2>E.3 Architecture Decision Records (11 ADRs)</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th>ID</th><th>Entscheidung</th><th>Begruendung</th><th>Alternativen</th></tr>
      <tr><td>ADR-1</td><td>Rust Backend</td><td>&lt;50ms, io_uring, Safety</td><td>Go, Node</td></tr>
      <tr><td>ADR-2</td><td>SolidJS</td><td>120Hz fine-grained reactivity</td><td>React, Svelte</td></tr>
      <tr><td>ADR-3</td><td>Zenoh statt NATS</td><td>SHM ~1us, Rust-native</td><td>NATS, tokio::broadcast</td></tr>
      <tr><td>ADR-4</td><td>Limbo statt rusqlite</td><td>async io_uring + FTS5</td><td>redb, rusqlite</td></tr>
      <tr><td>ADR-5</td><td>eBPF statt inotify</td><td>PID-Attribution</td><td>inotify</td></tr>
      <tr><td>ADR-6</td><td>ECS (hecs)</td><td>Cache-friendly 120Hz</td><td>HashMap</td></tr>
      <tr><td>ADR-7</td><td>Dual-Codec</td><td>Hot (zero-copy) + Cold (flexible)</td><td>Single codec</td></tr>
      <tr><td>ADR-8</td><td>WebTransport only</td><td>QUIC Connection Migration</td><td>WebSocket Fallback</td></tr>
      <tr><td>ADR-9</td><td>PTY statt resume</td><td>Session-Kontinuitaet</td><td>claude -p --resume</td></tr>
      <tr><td>ADR-10</td><td>Catppuccin Mocha</td><td>14 harmonische Farben</td><td>Nord, Dracula</td></tr>
      <tr><td>ADR-11</td><td>CodeMirror 6</td><td>500KB vs 5MB, 120Hz</td><td>Monaco</td></tr>
    </table>
  </div>
</div>

<!-- E.4 WORK PACKAGES -->
<div id="e4" class="section">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128230;</span>
    <h2>E.4 Work Packages &mdash; 20 WPs</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <div class="wp-grid">
      <div class="wp-card"><div class="wp-card-header"><h4>WP-0: Prerequisites</h4><span class="badge badge-green">S</span><span class="badge badge-peach">Gate</span></div><div class="wp-deps">Blocked by: &mdash;</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-1: Rust Workspace</h4><span class="badge badge-green">S</span></div><div class="wp-deps">Blocked by: WP-0</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-2: ECS + Limbo</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-1</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-3: eBPF Watcher</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-1 (parallel WP-2)</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-4: JSONL Parser</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-2, WP-3</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-5: PTY Session</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-4</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-6: Zenoh Bus</h4><span class="badge badge-green">S</span></div><div class="wp-deps">Blocked by: WP-4 (parallel WP-5)</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-7: WebTransport</h4><span class="badge badge-peach">L</span><span class="badge badge-peach">Gate</span></div><div class="wp-deps">Blocked by: WP-5, WP-6</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-8: SolidJS Shell</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-7</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-9: Chat + JSONL</h4><span class="badge badge-peach">L</span><span class="badge badge-red">CRITICAL</span></div><div class="wp-deps">Blocked by: WP-8, WP-17</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-10: Editor + Diff</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-8 (parallel WP-9)</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-11: Sessions</h4><span class="badge badge-green">S</span></div><div class="wp-deps">Blocked by: WP-8 (parallel)</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-12: API Proxy</h4><span class="badge badge-blue">M</span><span class="badge badge-peach">Gate</span></div><div class="wp-deps">Blocked by: WP-9</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-13: Tool Cards</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-9</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-14: Git</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-10</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-15: Teams</h4><span class="badge badge-peach">L</span><span class="badge badge-peach">Gate</span></div><div class="wp-deps">Blocked by: WP-9</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-16: Gantt+Kanban</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-15</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-17: WASM</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-7 (parallel)</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-18: Mobile</h4><span class="badge badge-blue">M</span></div><div class="wp-deps">Blocked by: WP-9, WP-10, WP-11</div></div>
      <div class="wp-card"><div class="wp-card-header"><h4>WP-19: Polish</h4><span class="badge badge-peach">L</span><span class="badge badge-peach">Gate</span></div><div class="wp-deps">Blocked by: ALL</div></div>
    </div>
  </div>
</div>

<!-- E.5 DEPENDENCY GRAPH -->
<div id="e5" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128279;</span>
    <h2>E.5 Dependency Graph + Critical Path</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <div class="dep-graph">
      <svg width="820" height="480" viewBox="0 0 820 480">
        <!-- Nodes -->
        <rect x="350" y="10" width="100" height="32" rx="6" fill="var(--green)" opacity="0.85"/>
        <text x="400" y="31" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-0</text>

        <rect x="350" y="60" width="100" height="32" rx="6" fill="var(--blue)" opacity="0.85"/>
        <text x="400" y="81" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-1</text>

        <rect x="220" y="115" width="100" height="32" rx="6" fill="var(--blue)" opacity="0.85"/>
        <text x="270" y="136" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-2 ECS</text>

        <rect x="480" y="115" width="100" height="32" rx="6" fill="var(--peach)" opacity="0.85"/>
        <text x="530" y="136" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-3 eBPF</text>

        <rect x="350" y="170" width="100" height="32" rx="6" fill="var(--blue)" opacity="0.85"/>
        <text x="400" y="191" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-4 JSONL</text>

        <rect x="220" y="225" width="100" height="32" rx="6" fill="var(--mauve)" opacity="0.85"/>
        <text x="270" y="246" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-5 PTY</text>

        <rect x="480" y="225" width="100" height="32" rx="6" fill="var(--teal)" opacity="0.85"/>
        <text x="530" y="246" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-6 Zenoh</text>

        <rect x="350" y="280" width="100" height="32" rx="6" fill="var(--yellow)" opacity="0.85"/>
        <text x="400" y="301" text-anchor="middle" fill="var(--bg-primary)" font-size="11" font-weight="700">WP-7 QUIC</text>

        <rect x="680" y="280" width="110" height="32" rx="6" fill="var(--lavender)" opacity="0.85"/>
        <text x="735" y="301" text-anchor="middle" fill="var(--bg-primary)" font-size="11" font-weight="700">WP-17 WASM</text>

        <rect x="350" y="335" width="100" height="32" rx="6" fill="var(--sapphire)" opacity="0.85"/>
        <text x="400" y="356" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-8 Shell</text>

        <rect x="150" y="390" width="100" height="32" rx="6" fill="var(--red)" opacity="0.75"/>
        <text x="200" y="411" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-9 Chat</text>

        <rect x="350" y="390" width="100" height="32" rx="6" fill="var(--blue)" opacity="0.85"/>
        <text x="400" y="411" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-10 Edit</text>

        <rect x="550" y="390" width="100" height="32" rx="6" fill="var(--green)" opacity="0.85"/>
        <text x="600" y="411" text-anchor="middle" fill="white" font-size="11" font-weight="700">WP-11 Sess</text>

        <rect x="300" y="445" width="120" height="28" rx="6" fill="var(--surface1)" opacity="0.85"/>
        <text x="360" y="464" text-anchor="middle" fill="var(--text-primary)" font-size="10" font-weight="600">WP-19 Polish</text>

        <!-- Arrows (simplified) -->
        <line x1="400" y1="42" x2="400" y2="60" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="370" y1="92" x2="300" y2="115" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="430" y1="92" x2="510" y2="115" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="300" y1="147" x2="370" y2="170" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="510" y1="147" x2="430" y2="170" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="370" y1="202" x2="300" y2="225" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="430" y1="202" x2="510" y2="225" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="300" y1="257" x2="370" y2="280" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="510" y1="257" x2="430" y2="280" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="400" y1="312" x2="400" y2="335" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="450" y1="296" x2="680" y2="296" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="370" y1="367" x2="230" y2="390" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="400" y1="367" x2="400" y2="390" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="430" y1="367" x2="580" y2="390" stroke="var(--text-muted)" stroke-width="1.2"/>
        <line x1="735" y1="312" x2="230" y2="390" stroke="var(--text-muted)" stroke-width="1" stroke-dasharray="4,3"/>
      </svg>
    </div>
    <p style="font-size:0.85rem;margin-top:0.5rem"><strong>Kritischer Pfad:</strong> WP-0 &rarr; WP-1 &rarr; WP-2 &rarr; WP-4 &rarr; WP-5 &rarr; WP-7 &rarr; WP-8 &rarr; WP-9 &rarr; WP-19</p>
  </div>
</div>

<!-- E.6 GIT -->
<div id="e6" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)"><span class="section-icon">&#128736;</span><h2>E.6 Git & SCM Strategy</h2><span class="chevron">&#9660;</span></div>
  <div class="section-body">
    <p><strong>Pfad:</strong> /work/claude-ide | <strong>Strategy:</strong> Direkt auf main (Phase 1, Single-Dev) | <strong>Commits:</strong> Conventional Commits, atomar pro WP</p>
  </div>
</div>

<!-- F.1 TEST PIPELINE -->
<div id="f1" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128295;</span>
    <h2>F.1 Test-Strategie &amp; CI/CD Gates</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <h4 style="margin-bottom:0.5rem">Gate Pipeline</h4>
    <div class="pipeline">
      <div class="pipeline-stage">
        <div class="stage-name">PR Gate</div>
        <div class="stage-time">clippy, test, lint &lt;5m</div>
      </div>
      <div class="pipeline-arrow"></div>
      <div class="pipeline-stage">
        <div class="stage-name">Main Gate</div>
        <div class="stage-time">Integration, Smoke &lt;15m</div>
      </div>
      <div class="pipeline-arrow"></div>
      <div class="pipeline-stage">
        <div class="stage-name">Nightly</div>
        <div class="stage-time">Bench, Soak, E2E &lt;60m</div>
      </div>
    </div>

    <h4 style="margin:1rem 0 0.5rem">Test-Taxonomie (8 Ebenen)</h4>
    <table>
      <tr><th>Ebene</th><th>Ziel</th><th>Gate</th></tr>
      <tr><td>Static</td><td>Fruehe Fehler</td><td>PR</td></tr>
      <tr><td>Unit</td><td>Funktionen</td><td>PR</td></tr>
      <tr><td>Integration</td><td>Komponenten</td><td>Main</td></tr>
      <tr><td>Contract/API</td><td>N/A</td><td>&mdash;</td></tr>
      <tr><td>System/Artifact</td><td>Binary</td><td>Main</td></tr>
      <tr><td>E2E/Smoke</td><td>User-Journeys</td><td>Nightly</td></tr>
      <tr><td>UAT</td><td>Fachlich</td><td>Release</td></tr>
      <tr><td>Non-Functional</td><td>Perf/Resilienz</td><td>Nightly</td></tr>
    </table>
  </div>
</div>

<!-- F.5 KANBAN -->
<div id="f5" class="section">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128203;</span>
    <h2>F.5 Kanban Board</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <div class="kanban-board">
      <div class="kanban-col">
        <div class="kanban-col-header">Backlog <span class="wip">(&infin;)</span></div>
        <div class="kanban-cards">
          <div class="kanban-card size-s">WP-0 Prereq</div>
          <div class="kanban-card size-s">WP-1 Scaffold</div>
          <div class="kanban-card size-m">WP-2 ECS+DB</div>
          <div class="kanban-card size-m">WP-3 eBPF</div>
          <div class="kanban-card size-m">WP-4 JSONL</div>
          <div class="kanban-card size-m">WP-5 PTY</div>
          <div class="kanban-card size-s">WP-6 Zenoh</div>
          <div class="kanban-card size-l">WP-7 QUIC</div>
          <div class="kanban-card size-m">WP-8 Shell</div>
          <div class="kanban-card size-l">WP-9 Chat</div>
          <div class="kanban-card size-m">WP-10 Editor</div>
          <div class="kanban-card size-s">WP-11 Sess.</div>
          <div class="kanban-card size-m">WP-12 Proxy</div>
          <div class="kanban-card size-m">WP-13 Tools</div>
          <div class="kanban-card size-m">WP-14 Git</div>
          <div class="kanban-card size-l">WP-15 Teams</div>
          <div class="kanban-card size-m">WP-16 Gantt</div>
          <div class="kanban-card size-m">WP-17 WASM</div>
          <div class="kanban-card size-m">WP-18 Mobile</div>
          <div class="kanban-card size-l">WP-19 Polish</div>
        </div>
      </div>
      <div class="kanban-col">
        <div class="kanban-col-header">Analysis <span class="wip">(3)</span></div>
        <div class="kanban-cards"></div>
      </div>
      <div class="kanban-col">
        <div class="kanban-col-header">Ready <span class="wip">(5)</span></div>
        <div class="kanban-cards"></div>
      </div>
      <div class="kanban-col">
        <div class="kanban-col-header">In Progress <span class="wip">(3)</span></div>
        <div class="kanban-cards"></div>
      </div>
      <div class="kanban-col">
        <div class="kanban-col-header">Review <span class="wip">(3)</span></div>
        <div class="kanban-cards"></div>
      </div>
      <div class="kanban-col">
        <div class="kanban-col-header">Done <span class="wip">(&infin;)</span></div>
        <div class="kanban-cards"></div>
      </div>
    </div>
  </div>
</div>

<!-- G GOVERNANCE -->
<div id="g1" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)"><span class="section-icon">&#9878;</span><h2>G.1 Architecture Compliance Review</h2><span class="chevron">&#9660;</span></div>
  <div class="section-body">
    <p>12-Punkt PR-Review Checkliste + 4-Punkt TOGAF Compliance Check. Alle Pflicht-Phasen laut Tailoring L durchlaufen.</p>
  </div>
</div>

<div id="g2" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)"><span class="section-icon">&#9989;</span><h2>G.2 Definition of Done</h2><span class="chevron">&#9660;</span></div>
  <div class="section-body">
    <ul class="checklist">
      <li><span class="check-icon check-open">&#9675;</span> 20 Work Packages implementiert</li>
      <li><span class="check-icon check-open">&#9675;</span> Tests gruen (Unit+Integration+E2E)</li>
      <li><span class="check-icon check-open">&#9675;</span> VERIFY fuer jedes WP</li>
      <li><span class="check-icon check-open">&#9675;</span> Logging, Error Handling, Security Scanning</li>
      <li><span class="check-icon check-open">&#9675;</span> Performance (120Hz, &lt;50ms, &lt;200MB)</li>
      <li><span class="check-icon check-open">&#9675;</span> Alle Kanban-Karten Done</li>
      <li><span class="check-icon check-open">&#9675;</span> Lessons, Docs, Git Commits</li>
    </ul>
  </div>
</div>

<div id="g3" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128200;</span>
    <h2>G.3 Success Metrics</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th>Metrik</th><th>Zielwert</th><th>Messbar durch</th></tr>
      <tr><td>JSONL Transparency</td><td>100%</td><td>Count-Match JSONL vs UI</td></tr>
      <tr><td>File-Event Latenz</td><td>&lt; 50ms p99</td><td>Benchmark</td></tr>
      <tr><td>FPS</td><td>120Hz</td><td>Performance Profiler</td></tr>
      <tr><td>Server Memory</td><td>&lt; 200MB RSS</td><td>ps aux</td></tr>
      <tr><td>Browser Memory</td><td>&lt; 500MB</td><td>Chrome DevTools</td></tr>
      <tr><td>Parse Rate</td><td>&gt; 10000 Lines/sec</td><td>cargo bench</td></tr>
      <tr><td>Reconnect</td><td>&lt; 2s</td><td>Test</td></tr>
    </table>
  </div>
</div>

<!-- H + RM -->
<div id="h1" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128221;</span>
    <h2>H.1 Architecture Change Log</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th>Aenderung</th><th>Typ</th><th>Impact</th></tr>
      <tr><td>v1.0 &rarr; v1.1: Peer-Review Upgrades</td><td>Feature</td><td><span class="badge badge-yellow">Medium</span></td></tr>
      <tr><td>v1.1 &rarr; v2.0: TOGAF ADM Migration</td><td>Refactor</td><td><span class="badge badge-green">Low</span></td></tr>
      <tr><td>v2.0 &rarr; v2.1: Peer-Review Fixes (10 Items)</td><td>Fix</td><td><span class="badge badge-yellow">Medium</span></td></tr>
    </table>
  </div>
</div>

<div id="rm3" class="section collapsed">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-icon">&#128279;</span>
    <h2>RM.3 Traceability Matrix</h2>
    <span class="chevron">&#9660;</span>
  </div>
  <div class="section-body">
    <table>
      <tr><th>REQ</th><th>WP</th><th>Test</th><th>AC</th><th>Status</th></tr>
      <tr><td>REQ-1</td><td>WP-4, WP-9</td><td>E2E</td><td>AC-1, AC-8, AC-N1</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-2</td><td>WP-3, WP-6, WP-7</td><td>Bench</td><td>AC-2</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-3</td><td>WP-8, WP-9, WP-17</td><td>Perf</td><td>AC-3</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-4</td><td>WP-5</td><td>Integ.</td><td>AC-4</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-5</td><td>WP-12</td><td>E2E</td><td>AC-5</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-6</td><td>WP-15</td><td>E2E</td><td>AC-6</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-7</td><td>WP-16</td><td>E2E</td><td>AC-11</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-8</td><td>WP-18</td><td>PW</td><td>AC-7</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-9</td><td>WP-19</td><td>Soak</td><td>AC-10, N3</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-10</td><td>WP-7</td><td>Integ.</td><td>AC-12</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-11</td><td>WP-3</td><td>Integ.</td><td>AC-13</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-12</td><td>WP-10</td><td>E2E</td><td>AC-14</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-13</td><td>WP-6, WP-7</td><td>Unit</td><td>AC-15</td><td><span class="badge badge-blue">Planned</span></td></tr>
      <tr><td>REQ-14</td><td>WP-6, WP-7</td><td>Unit</td><td>AC-16</td><td><span class="badge badge-blue">Planned</span></td></tr>
    </table>
  </div>
</div>

<!-- FOOTER -->
<div style="margin:3rem 0 1rem;padding:1.5rem;background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-lg);text-align:center;font-size:0.8rem;color:var(--text-muted)">
  <p><strong>claude-ide TOGAF ADM Implementation Plan v2.1</strong></p>
  <p>Generiert: 2026-02-20 | TOGAF Standard 10th Edition | Tailoring Level L</p>
  <p>Peer-Review: Codex GPT-5.3 + Gemini 2.5 Pro | 14 ABBs, 14 SBBs, 11 ADRs, 20 WPs, 16+4 ACs, 14 REQs</p>
  <p style="margin-top:0.5rem">Confidence: 88% | Kanban WIP: 3 | Kritischer Pfad: WP-0&rarr;1&rarr;2&rarr;4&rarr;5&rarr;7&rarr;8&rarr;9&rarr;19</p>
</div>

</main>
</div>

<script>
// Toggle section collapse
function toggleSection(header) {
  header.parentElement.classList.toggle('collapsed');
}

// Theme toggle
function toggleTheme() {
  const html = document.documentElement;
  const current = html.getAttribute('data-theme');
  html.setAttribute('data-theme', current === 'dark' ? 'light' : 'dark');
  localStorage.setItem('theme', current === 'dark' ? 'light' : 'dark');
}

// Load saved theme or detect system preference
(function() {
  const saved = localStorage.getItem('theme');
  if (saved) {
    document.documentElement.setAttribute('data-theme', saved);
  } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', 'light');
  }
})();

// Sidebar active state on scroll
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
      const link = document.querySelector(`.sidebar a[href="#${entry.target.id}"]`);
      if (link) link.classList.add('active');
    }
  });
}, { rootMargin: '-20% 0px -70% 0px' });

document.querySelectorAll('.section[id]').forEach(s => observer.observe(s));
</script>
</body>
</html>